@model List<MovieLibrary.Models.Movie>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
@Ajax.ActionLink("Create movie", "Create", new AjaxOptions()
{
    HttpMethod = "GET",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "create-movie"
})
<table class="table table-striped">
    <thead>
        <tr>
            <th>Title</th>
            <th>Director</th>
            <th>Lead male actor</th>
            <th>Lead female actress</th>
            <th>Year</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @for (int i = 0; i < @Model.Count; i++ )
        {
            <tr>
                <td>@Model[i].Title</td>
                <td>@Model[i].Director</td>
                <td>@Model[i].LeadMaleActor.Name</td>
                <td>@Model[i].LeadFemaleActor.Name</td>
                <td>@Model[i].Year</td>
                <td>
                    @Ajax.ActionLink("Update", "Update", new { id = @Model[i].Id }, new AjaxOptions()
                    {
                        HttpMethod = "GET",
                        InsertionMode = InsertionMode.Replace,
                        UpdateTargetId = "update-movie"
                    })
                    @Ajax.ActionLink("Details", "Details", new { id = @Model[i].Id}, new AjaxOptions()
                    {
                        HttpMethod = "GET",
                        InsertionMode = InsertionMode.Replace,
                        UpdateTargetId = "details-movie"
                    })
                    @Ajax.ActionLink("Delete", "Delete", new { id = @Model[i].Id }, new AjaxOptions()
                    {
                        HttpMethod = "GET",
                        InsertionMode = InsertionMode.Replace,
                        UpdateTargetId = "delete-movie"
                    })
                </td>
            </tr>
        }
    </tbody>
</table>
<div id="create-movie"></div>
<div id="update-movie"></div>
<div id="delete-movie"></div>
<div id="details-movie"></div>
